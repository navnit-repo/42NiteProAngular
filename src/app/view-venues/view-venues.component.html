<section id="page-content">
	<app-breadcrumb pageType="view-venues"></app-breadcrumb>
	<div class="body-content animated fadeIn">



		<div *ngIf="userRole == 'Promoter'" class="panel rounded shadow">
			<div class="panel-heading">
				<h3 class="panel-title" style="font-weight:bold;">Pending Requests</h3>
			</div>
			<div class="panel-body">
				<table class="table table-striped table-primary">

				</table>
				<div id="table_wrapper" class="table table-striped table-info dataTable no-footer">


					<div class="dataTables_scroll">
						<div class="dataTables_scrollHead"
							style="overflow: hidden; position: relative; border: 0px; width: 100%;">
							<div class="dataTables_scrollHeadInner"
								style="box-sizing: content-box; width: 1371px; padding-right: 0px;">

							</div>
						</div>
						<div class="dataTables_scrollBody" style="position: relative; overflow: auto; width: 100%;">
							<table id="table" class="table table-striped table-success dataTable no-footer" role="grid"
								aria-describedby="table_info" datatable [dtOptions]="dtOptions" [dtTrigger]="promoterVenueService.unaffiliatedListTrigger">

								<thead>
									<tr role="row">
										<th data-class="expand" style="min-width: 90px; width: 109px;"
											class="text-center expand sorting_disabled" rowspan="1" colspan="1"
											aria-label="Venue Profile">Venue
											Name</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting_desc" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1" aria-sort="descending"
											aria-label="Venue Name: activate to sort column ascending">User Name
										</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Venue Address: activate to sort column ascending">Venue
											City</th>
										<th data-class="expand" style="min-width: 120px; width: 220px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Email: activate to sort column ascending">
											Venue Type</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting_disabled" rowspan="1" colspan="1"
											aria-label="Phone Number">
											Affiliate On</th>

									</tr>
								</thead>


								<tbody>
									<div id="fullpageloading" *ngIf="screenLoading">
										<div class="spinner-container">
											<div class="spinner spinner-left"></div>
											<div class="spinner spinner-right"></div>
										</div>
									</div>
									<div *ngIf="pageLoading" class="formLoader">
										<ul class="formLoading">
											<li></li>
											<li></li>
											<li></li>
										</ul>
									</div>

									<tr *ngFor="let venueList of requestedAffiliationVenueList"
										role="row" class="odd">
										<td class="expand sorting_1"><a
												(click)="viewVenue(venueList.venue_id)">{{venueList.venue_name}}</a>
										</td>
										<td class=" expand">-</td>
										<td class=" expand">-</td>
										<td class=" expand"><a class="btn btn- btn-xs" data-toggle="tooltip"
												data-placement="top" style="color: black"
												title="Bar"><i [ngClass]="venueList.venue_type == 'bar' ? 'fa fa-glass': 'fa fa-globe'"></i>
												{{venueList.venue_type}}</a></td>
										<td class=" expand">-</td>

									</tr>

								</tbody>
							</table>
						</div>
					</div> 
				</div>
			</div>
		</div>



		<!-- 2nd table -->
		<div class="panel rounded shadow">
			<div class="panel-body">
				<!-- Start datatable -->

				<div id="table_wrapper" class="dataTables_wrapper form-inline no-footer">

					<div class="dataTables_scroll">
						<div class="dataTables_scrollHead"
							style="overflow: hidden; position: relative; border: 0px; width: 100%;">
							<div class="dataTables_scrollHeadInner"
								style="box-sizing: content-box; width: 1371px; padding-right: 0px;">

							</div>
						</div>
						<div class="dataTables_scrollBody" style="position: relative; overflow: auto; width: 100%;">
							<table id="table" class=""
								[ngClass]="userRole == 'Promoter' ? 'table table-striped table-teal dataTable no-footer': 'table table-striped table-success dataTable no-footer'"
								role="grid" aria-describedby="table_info" datatable [dtOptions]="dtOptions" [dtTrigger]="venueService.dtTrigger">

								<thead>
									<tr role="row">
										<th data-class="expand" style="min-width: 90px; width: 109px;"
											class="text-center expand sorting_disabled" rowspan="1" colspan="1"
											aria-label="Venue Profile">Venue
											Profile</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting_desc" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1" aria-sort="descending"
											aria-label="Venue Name: activate to sort column ascending">Venue Name
										</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Venue Address: activate to sort column ascending">Venue
											Address</th>
										<th data-class="expand" style="min-width: 120px; width: 220px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Email: activate to sort column ascending">
											Email</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting_disabled" rowspan="1" colspan="1"
											aria-label="Phone Number">Phone
											Number</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="City: activate to sort column ascending">
											City</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Country: activate to sort column ascending">
											Country</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Owner Name: activate to sort column ascending">Owner Name
										</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Venue Type: activate to sort column ascending">Venue Type
										</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Created At: activate to sort column ascending">Created At
										</th>
										<th data-hide="phone,tablet" class="text-center sorting_disabled"
											style="min-width: 120px; width: 150px;" rowspan="1" colspan="1"
											aria-label="Action">Action</th>
									</tr>
								</thead>


								<tbody>
									<div id="fullpageloading" *ngIf="screenLoading">
										<div class="spinner-container">
											<div class="spinner spinner-left"></div>
											<div class="spinner spinner-right"></div>
										</div>
									</div>
                  	<div id="fullpageloading" *ngIf="promoterVenueService.loading">
										<div class="spinner-container">
											<div class="spinner spinner-left"></div>
											<div class="spinner spinner-right"></div>
										</div>
									</div>
									<div *ngIf="pageLoading" class="formLoader">
										<ul class="formLoading">
											<li></li>
											<li></li>
											<li></li>
										</ul>
									</div>

									<tr *ngFor="let venueList of venuesList"
										role="row" class="odd">
										<td class=" expand">
											<div class="prax-img-holder"><img class="clearfix rounded"
                      src="{{venueList.venue_pic}}"></div>
										</td>
										<td class="expand"><a
												(click)="viewVenue(venueList.venue_id)">{{venueList.venue_name}}</a>
										</td>
										<td class=" expand">{{venueList.address}}</td>
										<td class=" expand">{{venueList.email}}</td>
										<td class=" expand">{{venueList.formatted_phone_no}}</td>
										<td class=" expand">{{venueList.city}}</td>
										<td class=" expand">{{venueList.country}}</td>
										<td class=" expand">{{getOwnerName()}}</td>
										<td class=" expand"><a class="btn btn- btn-xs" data-toggle="tooltip"
												data-placement="top" style="color: black"
												title="Bar"><i [ngClass]="venueList.venue_type == 'bar' ? 'fa fa-glass': 'fa fa-globe'"></i>
												{{venueList.venue_type}}</a></td>
										<td class=" expand">{{venueList.created_at}}</td>
										<td><a class="btn btn-success btn-xs d-inline" style="display:inline;"
												(click)="viewVenue(venueList.venue_id)"><i class="fa fa-eye"></i></a>

											<span *ngIf="userRole == 'Promoter'" (click)="unaffiliateVenue(venueList.venue_id)" data-toggle="tooltip" data-placement="top" title="Delete" style="color: black" style="display:inline;">
                       <button class="btn btn-youtube btn-slideright">Unaffiliate</button>
                    </span>

											<a class="btn btn-primary btn-xs" (click)="onEditVenue(venueList.venue_id)"
												*ngIf="userRole != 'Promoter'"><i class="fa fa-pencil"></i></a>

											<a class="btn btn-danger btn-xs" id="{{venueList.venue_id}}"
												(click)="deleteVenue(venueList.venue_id)"
												*ngIf="userRole != 'Promoter'"><i  class="fa fa-trash"></i>
											</a>


										</td>
									</tr>

								</tbody>
							</table>
						</div>
					</div>
				</div>

				<!--/ End datatable -->
			</div>
		</div>


		<!-- third table -->
		<div *ngIf="userRole == 'Promoter'" class="panel rounded shadow">
			<div class="panel-heading">
				<h3 class="panel-title" style="font-weight:bold;">Request Venues for Affiliation</h3>
			</div>
			<div class="panel-body">
				<div id="table_wrapper" class="dataTables_wrapper form-inline no-footer">
					<div class="dataTables_scroll">
						<div class="dataTables_scrollHead"
							style="overflow: hidden; position: relative; border: 0px; width: 100%;">
							<div class="dataTables_scrollHeadInner"
								style="box-sizing: content-box; width: 1371px; padding-right: 0px;">

							</div>
						</div>
						<div class="dataTables_scrollBody" style="position: relative; overflow: auto; width: 100%;">
							<table id="table" class="table table-striped table-success dataTable no-footer" role="grid"
								aria-describedby="table_info" datatable [dtOptions]="dtOptions" 
                [dtTrigger]="promoterVenueService.requestedListTrigger">

								<thead>
									<tr role="row">
										<th data-class="expand" style="min-width: 90px; width: 109px;"
											class="text-center expand sorting_disabled" rowspan="1" colspan="1"
											aria-label="Venue Profile">Venue
											Name</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting_desc" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1" aria-sort="descending"
											aria-label="Venue Name: activate to sort column ascending">City
										</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Venue Address: activate to sort column ascending">Venue
											Type</th>
										<th data-class="expand" style="min-width: 120px; width: 220px;"
											class="text-center expand sorting" tabindex="0" aria-controls="table"
											rowspan="1" colspan="1"
											aria-label="Email: activate to sort column ascending">
											Created On</th>
										<th data-class="expand" style="min-width: 120px; width: 89px;"
											class="text-center expand sorting_disabled" rowspan="1" colspan="1"
											aria-label="Phone Number">Action
										</th>

									</tr>
								</thead>


								<tbody>
									<div id="fullpageloading" *ngIf="screenLoading">
										<div class="spinner-container">
											<div class="spinner spinner-left"></div>
											<div class="spinner spinner-right"></div>
										</div>
									</div>
									<div *ngIf="pageLoading" class="formLoader">
										<ul class="formLoading">
											<li></li>
											<li></li>
											<li></li>
										</ul>
									</div>

									<tr *ngFor="let venueList of unaffiliatedVenueList"
										role="row" class="odd">
										<td class="expand sorting_1"><a
												(click)="viewVenue(venueList.venue_id)">{{venueList.venue_name}}</a>
										</td>
										<td class=" expand">-</td>
										<td class=" expand"><a class="btn btn- btn-xs" data-toggle="tooltip"
												data-placement="top" style="color: black"
												title="Bar"><i [ngClass]="venueList.venue_type == 'bar' ? 'fa fa-glass': 'fa fa-globe'"></i>
												{{venueList.venue_type}}</a></td>
										<td class=" expand">-</td>
										<td><a data-toggle="tooltip" data-placement="top" title="Request"
												style="color: black">
												<button class="btn btn-teal btn-slideright"
                       (click)="requestingVenueAffiliation(venueList.venue_id)">Request</button>
											</a></td>
									</tr>

								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>



    


		<footer class="footer-content">
			LITE - Luminous Ideas for Technological Evolutions LLC | contact@whats42nite.com | <a target="_blank">Terms
				and Conditions</a>
		</footer>
	</div>
</section>